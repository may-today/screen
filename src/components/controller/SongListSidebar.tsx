import { Portal } from 'solid-js/web'
import { useStore } from '@nanostores/solid'
import { Dialog } from '@ark-ui/solid'
import { $sidebarOpen } from '@/stores/ui'
import SongListSidebarContent from '@/components/common/SongListSidebarContent'

export default () => {
  const sidebarOpen = useStore($sidebarOpen)

  return (
    <Dialog.Root open={sidebarOpen()} onOpenChange={(e) => $sidebarOpen.set(e.open)} trapFocus={false}>
      <Portal>
        <Dialog.Backdrop />
        <Dialog.Positioner>
          <Dialog.Content class="sidebar">
            <SongListSidebarContent />
          </Dialog.Content>
        </Dialog.Positioner>
      </Portal>
    </Dialog.Root>
  )
}